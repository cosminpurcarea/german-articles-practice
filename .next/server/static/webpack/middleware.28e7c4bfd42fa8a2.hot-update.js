"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.js":
/*!***********************!*\
  !*** ./middleware.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(middleware)/./node_modules/@clerk/nextjs/dist/esm/server/index.js\");\n\n\n// Define public routes that don't require authentication\nconst publicRoutes = [\n    \"/\",\n    \"/sign-in\",\n    \"/sign-up\",\n    \"/api/webhooks/clerk\",\n    \"/privacy\",\n    \"/terms\"\n];\n// Check if a given path matches our public routes\nconst isPublicRoute = (path)=>{\n    return publicRoutes.some((route)=>{\n        return path === route || path.startsWith(`${route}/`) || path.startsWith(\"/api/\") || path.startsWith(\"/_next/\") || path.includes(\".\") // Static files like .js, .css, etc.\n        ;\n    });\n};\nasync function middleware(req) {\n    const { pathname } = req.nextUrl;\n    // Check if it's a public route\n    if (isPublicRoute(pathname)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    // Get auth state\n    const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getAuth)(req);\n    // If user is not authenticated, redirect to sign-in\n    if (!userId) {\n        const signInUrl = new URL(\"/sign-in\", req.url);\n        signInUrl.searchParams.set(\"redirect_url\", pathname);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(signInUrl);\n    }\n    // User is authenticated, allow access\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\n// Match all routes except static files\nconst config = {\n    matcher: [\n        /*\r\n     * Match all routes except:\r\n     * 1. /api/webhooks routes (for incoming webhooks)\r\n     * 2. /_next routes (for static assets)\r\n     * 3. /_vercel routes (for Vercel system files)\r\n     * 4. /favicon.ico, /sitemap.xml, etc. (common static files)\r\n     */ \"/((?!api/webhooks|_next|_vercel|favicon.ico|sitemap.xml).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0k7QUFFL0MseURBQXlEO0FBQ3pELE1BQU1FLGVBQWU7SUFDbkI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxrREFBa0Q7QUFDbEQsTUFBTUMsZ0JBQWdCLENBQUNDO0lBQ3JCLE9BQU9GLGFBQWFHLElBQUksQ0FBQ0MsQ0FBQUE7UUFDdkIsT0FBT0YsU0FBU0UsU0FDVEYsS0FBS0csVUFBVSxDQUFDLENBQUMsRUFBRUQsTUFBTSxDQUFDLENBQUMsS0FDM0JGLEtBQUtHLFVBQVUsQ0FBQyxZQUNoQkgsS0FBS0csVUFBVSxDQUFDLGNBQ2hCSCxLQUFLSSxRQUFRLENBQUMsS0FBSyxvQ0FBb0M7O0lBQ2hFO0FBQ0Y7QUFFZSxlQUFlQyxXQUFXQyxHQUFHO0lBQzFDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdELElBQUlFLE9BQU87SUFFaEMsK0JBQStCO0lBQy9CLElBQUlULGNBQWNRLFdBQVc7UUFDM0IsT0FBT1gscURBQVlBLENBQUNhLElBQUk7SUFDMUI7SUFFQSxpQkFBaUI7SUFDakIsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR2IsNkRBQU9BLENBQUNTO0lBRTNCLG9EQUFvRDtJQUNwRCxJQUFJLENBQUNJLFFBQVE7UUFDWCxNQUFNQyxZQUFZLElBQUlDLElBQUksWUFBWU4sSUFBSU8sR0FBRztRQUM3Q0YsVUFBVUcsWUFBWSxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCUjtRQUMzQyxPQUFPWCxxREFBWUEsQ0FBQ29CLFFBQVEsQ0FBQ0w7SUFDL0I7SUFFQSxzQ0FBc0M7SUFDdEMsT0FBT2YscURBQVlBLENBQUNhLElBQUk7QUFDMUI7QUFFQSx1Q0FBdUM7QUFDaEMsTUFBTVEsU0FBUztJQUNwQkMsU0FBUztRQUNQOzs7Ozs7S0FNQyxHQUNEO0tBQ0Q7QUFDSCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL21pZGRsZXdhcmUuanM/M2JjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XHJcblxyXG4vLyBEZWZpbmUgcHVibGljIHJvdXRlcyB0aGF0IGRvbid0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cclxuY29uc3QgcHVibGljUm91dGVzID0gW1xyXG4gIFwiL1wiLFxyXG4gIFwiL3NpZ24taW5cIixcclxuICBcIi9zaWduLXVwXCIsIFxyXG4gIFwiL2FwaS93ZWJob29rcy9jbGVya1wiLFxyXG4gIFwiL3ByaXZhY3lcIixcclxuICBcIi90ZXJtc1wiXHJcbl07XHJcblxyXG4vLyBDaGVjayBpZiBhIGdpdmVuIHBhdGggbWF0Y2hlcyBvdXIgcHVibGljIHJvdXRlc1xyXG5jb25zdCBpc1B1YmxpY1JvdXRlID0gKHBhdGgpID0+IHtcclxuICByZXR1cm4gcHVibGljUm91dGVzLnNvbWUocm91dGUgPT4ge1xyXG4gICAgcmV0dXJuIHBhdGggPT09IHJvdXRlIHx8IFxyXG4gICAgICAgICAgIHBhdGguc3RhcnRzV2l0aChgJHtyb3V0ZX0vYCkgfHwgXHJcbiAgICAgICAgICAgcGF0aC5zdGFydHNXaXRoKCcvYXBpLycpIHx8XHJcbiAgICAgICAgICAgcGF0aC5zdGFydHNXaXRoKCcvX25leHQvJykgfHxcclxuICAgICAgICAgICBwYXRoLmluY2x1ZGVzKCcuJykgLy8gU3RhdGljIGZpbGVzIGxpa2UgLmpzLCAuY3NzLCBldGMuXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcSkge1xyXG4gIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHJlcS5uZXh0VXJsO1xyXG4gIFxyXG4gIC8vIENoZWNrIGlmIGl0J3MgYSBwdWJsaWMgcm91dGVcclxuICBpZiAoaXNQdWJsaWNSb3V0ZShwYXRobmFtZSkpIHtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xyXG4gIH1cclxuICBcclxuICAvLyBHZXQgYXV0aCBzdGF0ZVxyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBnZXRBdXRoKHJlcSk7XHJcbiAgXHJcbiAgLy8gSWYgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZCwgcmVkaXJlY3QgdG8gc2lnbi1pblxyXG4gIGlmICghdXNlcklkKSB7XHJcbiAgICBjb25zdCBzaWduSW5VcmwgPSBuZXcgVVJMKCcvc2lnbi1pbicsIHJlcS51cmwpO1xyXG4gICAgc2lnbkluVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlZGlyZWN0X3VybCcsIHBhdGhuYW1lKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3Qoc2lnbkluVXJsKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gVXNlciBpcyBhdXRoZW50aWNhdGVkLCBhbGxvdyBhY2Nlc3NcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcclxufVxyXG5cclxuLy8gTWF0Y2ggYWxsIHJvdXRlcyBleGNlcHQgc3RhdGljIGZpbGVzXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgbWF0Y2hlcjogW1xyXG4gICAgLypcclxuICAgICAqIE1hdGNoIGFsbCByb3V0ZXMgZXhjZXB0OlxyXG4gICAgICogMS4gL2FwaS93ZWJob29rcyByb3V0ZXMgKGZvciBpbmNvbWluZyB3ZWJob29rcylcclxuICAgICAqIDIuIC9fbmV4dCByb3V0ZXMgKGZvciBzdGF0aWMgYXNzZXRzKVxyXG4gICAgICogMy4gL192ZXJjZWwgcm91dGVzIChmb3IgVmVyY2VsIHN5c3RlbSBmaWxlcylcclxuICAgICAqIDQuIC9mYXZpY29uLmljbywgL3NpdGVtYXAueG1sLCBldGMuIChjb21tb24gc3RhdGljIGZpbGVzKVxyXG4gICAgICovXHJcbiAgICAnLygoPyFhcGkvd2ViaG9va3N8X25leHR8X3ZlcmNlbHxmYXZpY29uLmljb3xzaXRlbWFwLnhtbCkuKiknLFxyXG4gIF0sXHJcbn07ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRBdXRoIiwicHVibGljUm91dGVzIiwiaXNQdWJsaWNSb3V0ZSIsInBhdGgiLCJzb21lIiwicm91dGUiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJtaWRkbGV3YXJlIiwicmVxIiwicGF0aG5hbWUiLCJuZXh0VXJsIiwibmV4dCIsInVzZXJJZCIsInNpZ25JblVybCIsIlVSTCIsInVybCIsInNlYXJjaFBhcmFtcyIsInNldCIsInJlZGlyZWN0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.js\n");

/***/ })

});